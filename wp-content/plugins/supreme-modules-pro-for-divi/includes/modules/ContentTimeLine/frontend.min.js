jQuery(function (t) { var e; function s(e, s, o, r, l, c, d) { let m = l.last()[0].clientHeight + "px"; var f = e.find(".dsm-content-timeline-tree-progress"); if (s.css({ bottom: m }), "on" === r && (o = !0), 980 >= t(window).width() && t(window).width() > 767 && "on" === c && (o = !0), 767 > t(window).width() && "on" === d && (o = !0), t(window).width() > 980 && "off" === r && (o = !1, f.css({ height: "0px" }), l.removeClass("dsm-pointer-active")), 980 >= t(window).width() && t(window).width() > 767 && "off" === c && (o = !1, f.css({ height: "0px" }), l.removeClass("dsm-pointer-active")), 767 > t(window).width() && "off" === d && (o = !1, f.css({ height: "0px" }), l.removeClass("dsm-pointer-active")), o) { t(window).on("scroll", function e() { o && (agPosY = t(window).scrollTop(), g()) }), t(window).on("resize", function e() { o && (agPosY = t(window).scrollTop(), v = t(window).height(), g()) }); var h = e.find(".dsm-pointer-wrapper"), p = t(window).outerHeight(), v = t(window).height(), u = -1, $ = !1; function w() { $ = !1, u !== agPosY && (u = agPosY, i = l.last().find(h).offset().top + agPosY - t(window).scrollTop(), a = f.offset().top + agPosY - t(window).scrollTop(), n = agPosY - a + p / 2, i <= agPosY + p / 2 && (n = i - a), f.css({ height: n + "px" }), l.each(function () { t(this).find(h).offset().top + agPosY - t(window).scrollTop() < agPosY + .5 * p ? t(this).addClass("dsm-pointer-active") : t(this).removeClass("dsm-pointer-active") })) } function g() { $ || requestAnimationFrame(w), $ = !0 } } } (e = jQuery)(function () { e(".dsm-content-timeline-items-wrapper").each(function (t) { let o = e(this), r = e(this).find(".dsm-content-timeline-tree"); var l = e(this).data("tree-animation"), c = e(this).data("tree-animation-tablet"), d = e(this).data("tree-animation-phone"); let m = o.find(".dsm-content-timeline-item-wrapper"); s(o, r, !1, l, m, c, d), e(window).on("resize", () => { s(o, r, !1, l, m, c, d) }) }) }), e(".dsm-description p").each(function () { var t = e(this); 0 == t.html().replace(/\s|&nbsp;/g, "").length && t.remove() }) }), document.addEventListener("DOMContentLoaded", function () { let t = window.et_animation_data ?? [], e = Array.from(t); for (let s of t) { let o = -1 !== s.class.indexOf("dsm_content_timeline_"); if (o) { let r = document.querySelector("." + s.class); r.classList.remove("et_animated"), e = e.filter(t => t.class !== s.class); let l = r.querySelectorAll(".dsm-content-timeline-item-wrapper"); for (let c of l) { let d = "dsm_wrapper_" + Array.from(c.classList).find(t => t.startsWith("dsm_content_timeline_child_")); document.querySelector("." + d).classList.add("et_animated"), e.push({ ...s, class: d }) } } } window.et_animation_data = e });